<header class="header" [class.scrolled]="isScrolled">
    <div class="header-content">
        <div class="logo">
            <a routerLink="/" (click)="scrollToTop()"><h1>House of Chaos</h1>
                <span class="logo-accent">Collect the extraordinary</span>
            </a>
        </div>
        <nav class="nav">
            @if(!isLoggedIn()) {
                <a routerLink="/register" (click)="scrollToTop()">Register</a>
                <a routerLink="/login" (click)="scrollToTop()">Login</a>
            } @else {
                <button (click)="logout()">Logout</button>
            }
            @if (isLoggedIn() && isAdmin()) {
                <a routerLink="/admin" (click)="scrollToTop()">Admin</a>
            }
            @if (isLoggedIn()) {
                <a routerLink="/orders" (click)="scrollToTop()">My Orders</a>
            }
            <a routerLink="#collections" (click)="scrollToTop()">Collections</a>
            <a routerLink="#contact" (click)="scrollToTop()">Contact</a>
        </nav>
        <div class="header-actions">
            @if (isLoggedIn()) {
                <a class="icon-btn cart-btn" routerLink="/cart" aria-label="Open cart" title="Cart" (click)="scrollToTop()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V19C17 19.6 16.6 20 16 20H8C7.4 20 7 19.6 7 19V13M17 13H7"
                              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    @if (cartItemsCount() > 0) {
                        <span class="badge">{{ cartItemsCount() }}</span>
                    }
                </a>
                <a class="icon-btn profile-btn" routerLink="/profile" (click)="scrollToTop()" aria-label="Open profile" title="Profile">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"
                              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    @if (isAddressMissing()) {
                        <span class="profile-alert" title="Complete your profile with an address">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="12" y1="8" x2="12" y2="12"/>
                                <line x1="12" y1="16" x2="12.01" y2="16"/>
                            </svg>
                        </span>
                    }
                </a>
            }
        </div>
    </div>
</header>
